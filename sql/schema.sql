-- todo: emergency use

SET search_path to :schema;

CREATE TABLE state (
    state int primary key,
    name text, fips char(2)
);

CREATE TABLE accident (
    state integer,
    statename text,   
    st_case integer PRIMARY KEY,
    ve_total integer,
    ve_forms integer,
    pvh_invl integer,
    peds integer,
    pernotmvit integer,
    permvit integer,
    persons integer,
    county integer,
    countyname text,   
    city integer,
    cityname text,   
    day integer,
    dayname text,   
    month integer,
    monthname text,   
    year integer,
    day_week integer,
    day_weekname text,   
    hour integer,
    hourname text,   
    minute integer,
    minutename text,   
    nhs integer,
    nhsname text,   
    func_sys integer,
    func_sysname text,   
    rd_owner integer,
    rd_ownername text,   
    rur_urb integer,
    rur_urbname text,   
    route integer,
    routename text,   
    tway_id text,
    tway_id2 text,
    milept integer,
    mileptname text,   
    latitude double precision,
    latitudename text,
    longitud double precision,
    longitudname text,
    sp_jur integer,
    sp_jurname text,   
    harm_ev integer,
    harm_evname text,   
    man_coll integer,
    man_collname text,   
    reljct1 integer,
    reljct1name text,   
    reljct2 integer,
    reljct2name text,   
    typ_int integer,
    typ_intname text,   
    wrk_zone integer,
    wrk_zonename text,   
    rel_road integer,
    rel_roadname text,   
    lgt_cond integer,
    lgt_condname text,   
    weather1 integer,
    weather1name text,   
    weather2 integer,
    weather2name text,   
    weather integer,
    weathername text,   
    sch_bus integer,
    sch_busname text,   
    rail text,
    railname text,   
    not_hour integer,
    not_hourname text,   
    not_min integer,
    not_minname text,   
    arr_hour integer,
    arr_hourname text,   
    arr_min integer,
    arr_minname text,   
    hosp_hr integer,
    hosp_hrname text,   
    hosp_mn integer,
    hosp_mnname text,   
    cf1 integer,
    cf1name text,   
    cf2 integer,
    cf2name text,   
    cf3 integer,
    cf3name text,   
    fatals integer,
    drunk_dr integer
);

CREATE TABLE cevent (
    state integer,
    statename text,
    st_case integer,
    eventnum integer,
    vnumber1 integer,
    aoi1 integer,
    aoi1name text,
    soe integer,
    soename text,
    vnumber2 integer,
    vnumber2name text,
    aoi2 integer,
    aoi2name text,
    constraint cevent_pk primary key (st_case, eventnum)
);

CREATE TABLE damage (
    state integer,
    statename text,
    st_case integer,
    veh_no integer,
    mdareas integer,
    mdareasname text,
    damage text,
    damagename text
);

CREATE TABLE distract (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    mdrdstrd integer,
    mdrdstrdname text,
    drdistract text,
    drdistractname text
);

CREATE TABLE drimpair (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    drimpair integer,
    drimpairname text
);

CREATE TABLE factor (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    mfactor integer,
    mfactorname text,
    vehiclecc text,
    vehicleccname text
);

CREATE TABLE maneuver (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    mdrmanav integer,
    mdrmanavname text,
    maneuver text,
    maneuvername text
    
);

CREATE TABLE nmcrash (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    per_no integer,
    mtm_crsh integer,
    mtm_crshname text,
    nmcc text,
    nmccname text
);

CREATE TABLE nmimpair (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    per_no integer,
    nmimpair integer,
    nmimpairname text
);

CREATE TABLE nmprior (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    per_no integer,
    mpr_act integer,
    mpr_actname text,
    nmprior text,
    nmpriorname text,
    nmaction text,
    nmactionname text
);

CREATE TABLE parkwork (
    state integer,
    statename text,
    st_case integer,
    veh_no integer,
    pve_forms integer,
    pnumoccs integer,
    pnumoccsname text,
    pday integer,
    pdayname text,
    pmonth integer,
    pmonthname text,
    phour integer,
    phourname text,
    pminute integer,
    pminutename text,
    pharm_ev integer,
    pharm_evname text,
    pman_coll integer,
    pman_collname text,
    ptype integer,
    ptypename text,
    phit_run integer,
    phit_runname text,
    preg_stat integer,
    preg_statname text,
    powner integer,
    pownername text,
    pmake integer,
    pmakename text,
    pmodel integer,
    pmak_mod integer,
    pmak_modname text,
    pbodytyp integer,
    pbodytypname text,
    pmodyear integer,
    pmodyearname text,
    pvin text,
    pvinname text,
    pvin_1 text,
    pvin_2 text,
    pvin_3 text,
    pvin_4 text,
    pvin_5 text,
    pvin_6 text,
    pvin_7 text,
    pvin_8 text,
    pvin_9 text,
    pvin_10 text,
    pvin_11 text,
    pvin_12 text,
    ptrailer integer,
    ptrailername text,
    pmcarr_i1 integer,
    pmcarr_i1name text,
    pmcarr_i2 text,
    pmcarr_i2name text,
    pmcarr_id text,
    pmcarr_idname text,
    pgvwr integer,
    pgvwrname text,
    pv_config integer,
    pv_configname text,
    pcargtyp integer,
    pcargtypname text,
    phaz_inv integer,
    phaz_invname text,
    phazplac integer,
    phazplacname text,
    phaz_id integer,
    phaz_idname text,
    phaz_cno integer,
    phaz_cnoname text,
    phaz_rel integer,
    phaz_relname text,
    pbus_use integer,
    pbus_usename text,
    psp_use integer,
    psp_usename text,
    pem_use integer,
    pem_usename text,
    punderide integer,
    punderidename text,
    pimpact1 integer,
    pimpact1name text,
    pveh_sev integer,
    pveh_sevname text,
    ptowed integer,
    ptowedname text,
    pm_harm integer,
    pm_harmname text,
    pveh_sc1 integer,
    pveh_sc1name text,
    pveh_sc2 integer,
    pveh_sc2name text,
    pfire integer,
    pfirename text,
    pdeaths integer,
    ptrlr1vin text,
    ptrlr1vinname text,
    ptrlr2vin text,
    ptrlr2vinname text,
    ptrlr3vin text,
    ptrlr3vinname text,
    pvpicmake text,
    pvpicmakename text,
    pvpicmodel text,
    pvpicmodelname text,
    pvpicbodyclass text,
    pvpicbodyclassname text,
    picfinalbody text,
    picfinalbodyname text,
    pgvwr_from text,
    pgvwr_fromname text,
    pgvwr_to text,
    pgvwr_toname text,
    ptrlr1gvwr text,
    ptrlr1gvwrname text,
    ptrlr2gvwr text,
    ptrlr2gvwrname text,
    ptrlr3gvwr text,
    ptrlr3gvwrname text,
    punderoverride text,
    punderoverridename text,
    constraint parkwork_pk primary key (st_case, veh_no)
);


CREATE TABLE pbtype (
    state integer,
    statename text,
    st_case integer,
    veh_no integer,
    per_no integer,
    pbptype integer,
    pbptypename text,
    pbage integer,
    pbagename text,
    pbsex integer,
    pbsexname text,
    pbcwalk integer,
    pbcwalkname text,
    pbswalk integer,
    pbswalkname text,
    pbszone integer,
    pbszonename text,
    pedctype integer,
    pedctypename text,
    bikectype integer,
    bikectypename text,
    pedloc integer,
    pedlocname text,
    bikeloc integer,
    bikelocname text,
    pedpos integer,
    pedposname text,
    bikepos integer,
    bikeposname text,
    peddir integer,
    peddirname text,
    bikedir integer,
    bikedirname text,
    motdir integer,
    motdirname text,
    motman integer,
    motmanname text,
    pedleg integer,
    pedlegname text,
    pedsnr text,
    pedsnrname text,
    pedcgp integer,
    pedcgpname text,
    bikecgp integer,
    bikecgpname text,
    constraint pbtype_pk primary key (st_case, veh_no, per_no)
);


CREATE TABLE person (
    state integer,
    statename text,
    st_case integer,
    ve_forms integer,
    veh_no integer,
    per_no integer,
    str_veh integer,
    county integer,
    day integer,
    dayname text,
    month integer,
    monthname text,
    hour integer,
    hourname text,
    minute integer,
    minutename text,
    rur_urb integer,
    rur_urbname text,
    func_sys integer,
    func_sysname text,
    harm_ev integer,
    harm_evname text,
    man_coll integer,
    man_collname text,
    sch_bus integer,
    sch_busname text,
    make integer,
    makename text,
    mak_mod integer,
    mak_modname text,
    body_typ integer,
    body_typname text,
    mod_year integer,
    mod_yearname text,
    tow_veh integer,
    tow_vehname text,
    spec_use integer,
    spec_usename text,
    emer_use integer,
    emer_usename text,
    rollover integer,
    rollovername text,
    impact1 integer,
    impact1name text,
    fire_exp integer,
    fire_expname text,
    age integer,
    agename text,
    sex integer,
    sexname text,
    per_typ integer,
    per_typname text,
    inj_sev integer,
    inj_sevname text,
    seat_pos integer,
    seat_posname text,
    rest_use integer,
    rest_usename text,
    rest_mis integer,
    rest_misname text,
    air_bag integer,
    air_bagname text,
    ejection integer,
    ejectionname text,
    ej_path integer,
    ej_pathname text,
    extricat integer,
    extricatname text,
    drinking integer,
    drinkingname text,
    alc_det integer,
    alc_detname text,
    alc_status integer,
    alc_statusname text,
    atst_typ integer,
    atst_typname text,
    alc_res integer,
    alc_resname text,
    drugs integer,
    drugsname text,
    drug_det integer,
    drug_detname text,
    dstatus integer,
    dstatusname text,
    hospital integer,
    hospitalname text,
    doa integer,
    doaname text,
    death_da integer,
    death_daname text,
    death_mo integer,
    death_moname text,
    death_yr integer,
    death_yrname text,
    death_hr integer,
    death_hrname text,
    death_mn integer,
    death_mnname text,
    death_tm integer,
    death_tmname text,
    lag_hrs integer,
    lag_hrsname text,
    lag_mins integer,
    lag_minsname text,
    p_sf1 integer,
    p_sf1name text,
    p_sf2 integer,
    p_sf2name text,
    p_sf3 integer,
    p_sf3name text,
    work_inj integer,
    work_injname text,
    hispanic integer,
    hispanicname text,
    race integer,
    racename text,
    location integer,
    locationname text,
    vpicmake text,
    vpicmakename text,
    vpicmodel text,
    vpicmodelname text,
    vpicbodyclass text,
    vpicbodyclassname text,
    icfinalbody text,
    icfinalbodyname text,
    gvwr_from text,
    gvwr_fromname text,
    gvwr_to text,
    gvwr_toname text,
    helm_use text,
    helm_usename text,
    helm_mis text,
    helm_misname text,
    devtype text,
    devtypename text,
    devmotor text,
    devmotorname text,
    constraint person_pk primary key (st_case, veh_no, per_no)
);

CREATE TABLE safetyeq (
    state integer,
    statename text, 
    st_case integer,
    veh_no integer,
    per_no integer,
    nmhelmet integer,
    nmhelmetname text,
    nmpropad integer,
    nmpropadname text,
    nmothpro integer,
    nmothproname text,
    nmrefclo integer,
    nmrefcloname text,
    nmlight integer,
    nmlightname text,
    nmothpre integer,
    nmothprename text
);
CREATE TABLE vehicle (
    state integer,
    statename text,
    st_case integer,
    veh_no integer,
    ve_forms integer,
    numoccs integer,
    numoccsname text,
    day integer,
    dayname text,
    month integer,
    monthname text,
    hour integer,
    hourname text,
    minute integer,
    minutename text,
    harm_ev integer,
    harm_evname text,
    man_coll integer,
    man_collname text,
    unittype integer,
    unittypename text,
    hit_run integer,
    hit_runname text,
    reg_stat integer,
    reg_statname text,
    owner integer,
    ownername text,
    make integer,
    makename text,
    model integer,
    mak_mod integer,
    mak_modname text,
    body_typ integer,
    body_typname text,
    mod_year integer,
    mod_yearname text,
    vin text,
    vinname text,
    vin_1 text,
    vin_2 text,
    vin_3 text,
    vin_4 text,
    vin_5 text,
    vin_6 text,
    vin_7 text,
    vin_8 text,
    vin_9 text,
    vin_10 text,
    vin_11 text,
    vin_12 text,
    tow_veh integer,
    tow_vehname text,
    j_knife integer,
    j_knifename text,
    mcarr_i1 integer,
    mcarr_i1name text,
    mcarr_i2 text,
    mcarr_i2name text,
    mcarr_id text,
    mcarr_idname text,
    gvwr integer,
    gvwrname text,
    v_config integer,
    v_configname text,
    cargo_bt integer,
    cargo_btname text,
    haz_inv integer,
    haz_invname text,
    haz_plac integer,
    haz_placname text,
    haz_id integer,
    haz_idname text,
    haz_cno integer,
    haz_cnoname text,
    haz_rel integer,
    haz_relname text,
    bus_use integer,
    bus_usename text,
    spec_use integer,
    spec_usename text,
    emer_use integer,
    emer_usename text,
    trav_sp integer,
    trav_spname text,
    underide integer,
    underidename text,
    rollover integer,
    rollovername text,
    rolinloc integer,
    rolinlocname text,
    impact1 integer,
    impact1name text,
    deformed integer,
    deformedname text,
    towed integer,
    towedname text,
    m_harm integer,
    m_harmname text,
    veh_sc1 integer,
    veh_sc1name text,
    veh_sc2 integer,
    veh_sc2name text,
    fire_exp integer,
    fire_expname text,
    dr_pres integer,
    dr_presname text,
    l_state integer,
    l_statename text,
    dr_zip text,
    dr_zipname text,
    l_status integer,
    l_statusname text,
    l_type integer,
    l_typename text,
    cdl_stat integer,
    cdl_statname text,
    l_endors integer,
    l_endorsname text,
    l_compl integer,
    l_complname text,
    l_restri integer,
    l_restriname text,
    dr_hgt integer,
    dr_hgtname text,
    dr_wgt integer,
    dr_wgtname text,
    prev_acc integer,
    prev_accname text,
    prev_sus1 integer,
    prev_sus1name text,
    prev_sus2 integer,
    prev_sus2name text,
    prev_sus3 integer,
    prev_sus3name text,
    prev_dwi integer,
    prev_dwiname text,
    prev_spd integer,
    prev_spdname text,
    prev_oth integer,
    prev_othname text,
    first_mo integer,
    first_moname text,
    first_yr integer,
    first_yrname text,
    last_mo integer,
    last_moname text,
    last_yr integer,
    last_yrname text,
    speedrel integer,
    speedrelname text,
    dr_sf1 integer,
    dr_sf1name text,
    dr_sf2 integer,
    dr_sf2name text,
    dr_sf3 integer,
    dr_sf3name text,
    dr_sf4 integer,
    dr_sf4name text,
    vtrafway integer,
    vtrafwayname text,
    vnum_lan integer,
    vnum_lanname text,
    vspd_lim integer,
    vspd_limname text,
    valign integer,
    valignname text,
    vprofile integer,
    vprofilename text,
    vpavetyp integer,
    vpavetypname text,
    vsurcond integer,
    vsurcondname text,
    vtrafcon integer,
    vtrafconname text,
    vtcont_f integer,
    vtcont_fname text,
    p_crash1 integer,
    p_crash1name text,
    p_crash2 integer,
    p_crash2name text,
    p_crash3 integer,
    p_crash3name text,
    pcrash4 integer,
    pcrash4name text,
    pcrash5 integer,
    pcrash5name text,
    acc_type integer,
    acc_typename text,
    deaths integer,
    dr_drink integer,
    dr_drinkname text,
    trlr1vin text,
    trlr1vinname text,
    trlr2vin text,
    trlr2vinname text,
    trlr3vin text,
    trlr3vinname text,
    underoverride text,
    underoverridename text,
    vpicmake text,
    vpicmakename text,
    vpicmodel text,
    vpicmodelname text,
    vpicbodyclass text,
    vpicbodyclassname text,
    icfinalbody text,
    icfinalbodyname text,
    gvwr_from text,
    gvwr_fromname text,
    gvwr_to text,
    gvwr_toname text,
    trlr1gvwr text,
    trlr1gvwrname text,
    trlr2gvwr text,
    trlr2gvwrname text,
    trlr3gvwr text,
    trlr3gvwrname text,
    constraint vehicle_pk primary key (st_case, veh_no)
);

CREATE TABLE violatn (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    mviolatn integer,
    mviolatnname text,
    violation text,
    violationname text
);

CREATE TABLE vision (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    mvisobsc integer,
    mvisobscname text,
    vision text,
    visionname text
);

CREATE TABLE vsoe (
    state integer,
    statename text,   
    st_case integer,
    veh_no integer,
    veventnum integer,
    soe integer,
    soename text,
    aoi integer,
    aoiname text,
    constraint vsoe_pk primary key (st_case, veh_no, veventnum)
);


CREATE TABLE vevent (
    state integer,
    statename text,
    st_case integer,
    eventnum integer,
    veh_no integer,
    veventnum integer,
    vnumber1 integer,
    aoi1 integer,
    aoi1name text,
    soe integer,
    soename text,
    vnumber2 integer,
    vnumber2name text,
    aoi2 integer,
    aoi2name text,
    constraint vevent_pk primary key (st_case, eventnum, veh_no)
);
